# Lovejoy's Antique Evaluation System

## 项目简介
这是一个基于 Flask 的古董评估网站，为 Lovejoy 古董商店开发的安全网络应用程序。该系统允许客户注册账户并请求对潜在古董物品进行评估。

## 项目需求
根据课程作业要求，系统需要实现以下功能：
1. 用户注册和登录系统
2. 密码策略实现
3. "请求评估"页面
4. 图片上传功能
5. 评估请求列表页面

## 当前进度

### 已完成功能
1. 基础项目结构搭建
2. 用户认证系统基础框架
   - 用户注册页面
   - 用户登录页面
   - 登出功能
3. 数据库模型
   - User 模型创建及配置
4. 密码策略实现
   - 密码强度要求
     - 最少8个字符
     - 必须包含大小写字母
     - 必须包含数字
     - 必须包含特殊字符
   - 密码恢复功能
     - 通过邮箱验证重置密码
     - 重置密码令牌生成和验证
5. 开始实现评估请求功能
   - 创建评估请求数据模型
   - 设计评估请求表单
   - 实现图片上传功能

### 项目结构 
lovejoy_antiques/
├── app/
│ ├── init.py # 应用程序初始化
│ ├── models/ # 数据库模型
│ │ ├── init.py
│ │ ├── user.py # 用户模型
│ │ └── evaluation.py # 新增：评估请求模型
│ ├── routes/ # 路由处理
│ │ ├── init.py
│ │ ├── auth.py # 认证相关路由
│ │ └── evaluation.py # 评估相关路由
│ ├── utils/
│ │ ├── init.py
│ │ ├── password_validation.py  # 新增：密码验证工具
│ │ └── email.py               # 新增：邮件发送工具
│ └── templates/ # HTML 模板
│ ├── base.html # 基础模板
│ ├── home.html # 首页
│ ├── login.html # 登录页
│ ├── register.html # 注册页
│ ├── reset_password.html    # 新增：重置密码页面
│ ├── reset_request.html     # 新增：请求重置密码页面
│ ├── request_evaluation.html # 新增：评估请求页面
│ └── my_evaluations.html # 新增：评估列表页面
├── config.py # 配置文件
└── run.py # 应用程序入口

### 技术栈
- Python Flask 框架
- SQLAlchemy ORM
- Flask-Login 用户认证
- Jinja2 模板引擎

### 待完成功能
1. 密码策略实现
   - 密码强度要求
   - 密码恢复功能
2. 评估请求功能
   - 创建评估请求表单
   - 图片上传功能
3. 评估请求列表页面
4. 安全性增强
   - CSRF 保护
   - XSS 防护
   - SQL 注入防护

## 运行说明
1. 安装依赖：
   pip install -r requirements.txt

2. 运行应用：
   python run.py

## 当前问题
- [已解决] 密码哈希字段长度问题：已将 password_hash 字段长度从 128 增加到 256
- [进行中] 完善用户认证系统
- [待开始] 实现评估相关功能

## 下一步计划
1. 完善密码策略
2. 实现评估请求功能
3. 添加文件上传功能
4. 开发评估请求列表页面
5. 增强系统安全性

## 安全考虑
项目特别注重安全性，实现了：
1. 密码加密存储
2. 用户会话管理
3. 表单验证
4. 安全的路由保护

后续还将添加更多安全特性以满足课程要求。