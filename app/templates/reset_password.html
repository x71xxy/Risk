{% extends "base.html" %} {% block title %}è®¾ç½®æ–°å¯†ç {% endblock %} {% block
content %}
<div class="auth-container">
  <div class="auth-box">
    <div class="auth-header">
      <h1>è®¾ç½®æ–°å¯†ç </h1>
      <p class="subtitle">è¯·è®¾ç½®æ‚¨çš„æ–°å¯†ç </p>
    </div>

    <form method="POST" class="auth-form">
      <div class="form-group">
        <label for="password">æ–°å¯†ç </label>
        <div class="input-wrapper">
          <i class="icon">ğŸ”’</i>
          <input
            type="password"
            id="password"
            name="password"
            required
            placeholder="è¯·è¾“å…¥æ–°å¯†ç "
          />
        </div>
        <div class="password-requirements">
          <h4>å¯†ç è¦æ±‚ï¼š</h4>
          <ul>
            <li id="length-check"><i class="check-icon"></i>æœ€å°‘8ä¸ªå­—ç¬¦</li>
            <li id="upper-check"><i class="check-icon"></i>å¿…é¡»åŒ…å«å¤§å†™å­—æ¯</li>
            <li id="lower-check"><i class="check-icon"></i>å¿…é¡»åŒ…å«å°å†™å­—æ¯</li>
            <li id="number-check"><i class="check-icon"></i>å¿…é¡»åŒ…å«æ•°å­—</li>
            <li id="special-check">
              <i class="check-icon"></i>å¿…é¡»åŒ…å«ç‰¹æ®Šå­—ç¬¦(!@#$%^&*ç­‰)
            </li>
          </ul>
        </div>
      </div>

      <div class="form-group">
        <label for="confirm_password">ç¡®è®¤æ–°å¯†ç </label>
        <div class="input-wrapper">
          <i class="icon">ğŸ”’</i>
          <input
            type="password"
            id="confirm_password"
            name="confirm_password"
            required
            placeholder="è¯·å†æ¬¡è¾“å…¥æ–°å¯†ç "
          />
        </div>
        <div
          id="password-match-message"
          class="error-message"
          style="display: none"
        >
          ä¸¤æ¬¡è¾“å…¥çš„å¯†ç ä¸ä¸€è‡´
        </div>
      </div>

      <button type="submit" id="submit-btn" class="btn btn-primary">
        é‡ç½®å¯†ç 
      </button>
    </form>
  </div>
</div>

<style>
  /* å¤ç”¨register.htmlçš„æ ·å¼ */
</style>

<script>
  document.addEventListener("DOMContentLoaded", function () {
    const passwordInput = document.getElementById("password");
    const confirmInput = document.getElementById("confirm_password");
    const submitBtn = document.getElementById("submit-btn");
    const matchMessage = document.getElementById("password-match-message");

    function checkPassword(password) {
      const checks = {
        length: password.length >= 8,
        upper: /[A-Z]/.test(password),
        lower: /[a-z]/.test(password),
        number: /\d/.test(password),
        special: /[!@#$%^&*(),.?":{}|<>]/.test(password),
      };

      document
        .getElementById("length-check")
        .classList.toggle("valid", checks.length);
      document
        .getElementById("upper-check")
        .classList.toggle("valid", checks.upper);
      document
        .getElementById("lower-check")
        .classList.toggle("valid", checks.lower);
      document
        .getElementById("number-check")
        .classList.toggle("valid", checks.number);
      document
        .getElementById("special-check")
        .classList.toggle("valid", checks.special);

      return Object.values(checks).every(Boolean);
    }

    function checkPasswordMatch() {
      const match = passwordInput.value === confirmInput.value;
      matchMessage.style.display = match ? "none" : "block";
      return match;
    }

    function validateForm() {
      const isPasswordValid = checkPassword(passwordInput.value);
      const isMatching = checkPasswordMatch();
      submitBtn.disabled = !(isPasswordValid && isMatching);
    }

    passwordInput.addEventListener("input", function () {
      checkPassword(this.value);
      validateForm();
    });

    confirmInput.addEventListener("input", function () {
      validateForm();
    });

    // åˆå§‹çŠ¶æ€è®¾ç½®æŒ‰é’®ä¸ºç¦ç”¨
    submitBtn.disabled = true;
  });
</script>
{% endblock %}
